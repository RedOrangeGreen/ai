<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Ubuntu Clipboard Monitor in Python using AI">
    <meta name="keywords" content="Ubuntu, Clipboard, Monitor, Python, AI">
    <title>GPT4All Based Python (Tkinter) Chat Application</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/default.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <style>
        :root {
            --primary-color: #4a4a4a;
            --secondary-color: #f0f0f0;
            --hover-color: #e0e0e0;
            --border-color: #ccc;
        }

        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            color: var(--primary-color);
            font-size: 18px;
        }

        h1 {
            font-size: 2em;
        }

        h2 {
            font-size: 1.5em;
        }

        ul {
            list-style-type: none;
            padding: 0;
            margin: 0;
        }

        li {
            margin-bottom: 5px;
            padding: 5px 10px;
            background-color: #f5f5f5;
            border-radius: 3px;
            font-family: monospace;
            user-select: all;
            cursor: text;
            font-size: 16px;
        }

        .file-list {
            list-style-type: none;
            padding: 0;
        }

        .file-list li {
            cursor: pointer;
            padding: 10px;
            background-color: var(--secondary-color);
            margin-bottom: 5px;
            border-radius: 3px;
            transition: background-color 0.3s ease;
        }

        .file-list li:hover {
            background-color: var(--hover-color);
        }

        .content {
            margin-top: 20px;
            padding: 10px;
            border: 1px solid var(--border-color);
            border-radius: 3px;
            white-space: pre-wrap;
            overflow-x: auto;
            font-size: 16px;
            display: none;
        }

.command-line {
    background-color: #000;
    color: #fff;
    font-family: monospace;
    padding: 20px;
    margin-top: 20px;
    border-radius: 3px;
    font-size: 18px;
    line-height: 1.4;
}

.line {
    display: block;
    cursor: pointer;
}

.line:hover {
    background-color: rgba(255, 255, 255, 0.1); /* Optional: adds a hover effect */
}

.line.selected {
    background-color: rgba(255, 255, 255, 0.2); /* Highlights selected line */
}

        .image-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            margin-top: 20px;
        }

        .image-wrapper {
            width: 48%;
            margin-bottom: 20px;
        }

        .image-wrapper img {
            max-width: 100%;
            height: auto;
            display: block;
            border-radius: 3px;
        }

        @media (max-width: 768px) {
            .image-wrapper {
                width: 100%;
            }
            body {
                font-size: 16px;
            }
            .command-line {
                font-size: 16px;
            }
        }
        
        
        
    pre {
    white-space: pre-wrap; /* Allows wrapping of text */
    overflow-wrap: anywhere; /* Breaks long words if necessary */
}

    </style>
</head>
<body>
    <header>
        <h1>GPT4All Based Python (Tkinter) Chat Application</h1>
    </header>

    <main>
        <h3>Python App using Tkinter &amp; <a href="https://docs.gpt4all.io/gpt4all_python/home.html" target="_blank" rel="noopener noreferrer">GPT4All Python SDK</a>, code generated by Perplexity AI.<br>
            Free, anonymous, no API key required, runs locally, AI model loaded into RAM.<br>
            Developed and tested on Ubuntu Linux.</h3>
            <h2><i>Stage 1, Basic Functionality</i></h2>
        <section>
            
            <h2>Requirements</h2>
                <ul> 
    	<li><a href="https://www.perplexity.ai" target="_blank" rel="noopener noreferrer">Open Perplexity AI</a></li>
        <li>Enhance the following to use "Phi-3-mini-4k-instruct.Q4_0.gguf" (without using a model path) and add a Tkinter interface to allow the model to be loaded and questions entered by the user and answered...from gpt4all import GPT4All
model = GPT4All("Meta-Llama-3-8B-Instruct.Q4_0.gguf") # downloads / loads a 4.66GB LLM
with model.chat_session():
    print(model.generate("How can I run LLMs efficiently on my laptop?", max_tokens=1024))</li>
        <li>code mychatapp.py</li>
    </ul>
        </section>

        <section>
            <h2>Perplexity AI Generated File (Click Filename To View)</h2>
            <ul class="file-list">
                <li onclick="toggleFile('mychatapp.py', 'main-content')" aria-label="Toggle mychatapp.py">mychatapp.py</li>
            </ul>
            <div id="main-content" class="content"></div>
        </section>

        <section>
            <h2>Using</h2>
  <div id="command-line" class="command-line">
    <div class="line">pip install gpt4all &gt; inlog.txt</div>
    <div class="line">python3 mychatapp.py</div>
    <div class="line">What is a cat?</div>
 <div class="line">pip uninstall gpt4all</div>
</div>
        </section>

       
        
        <section>
            <h2>Screenshot</h2>
            <div class="image-container">
                <div class="image-wrapper">
                    <img src="image1.png" alt="Screenshot 1 of GPT4All Based Python Chat Application">
                </div>
            </div>
        </section>
        
        <h2><i>Stage 2, Add Some More Controls</i></h2>
          <section>
            <h2>Requirements (Using Code Generated By Stage 1)</h2>
                <ul> 
    	<li><a href="https://www.perplexity.ai" target="_blank" rel="noopener noreferrer">Open Perplexity AI</a></li>
        <li>What does the following do ... import tkinter as tk
from tkinter import scrolledtext
from gpt4all import GPT4All
import threading

class LLMApp:
    def __init__(self, master):
        self.master = master
        master.title("LLM Chat Interface")

        # Model loading section
        self.load_frame = tk.Frame(master)
        self.load_frame.pack(pady=10)

        self.load_button = tk.Button(self.load_frame, text="Load Model", command=self.load_model)
        self.load_button.pack(side=tk.LEFT)

        self.status_label = tk.Label(self.load_frame, text="Model not loaded")
        self.status_label.pack(side=tk.LEFT, padx=10)

        # Chat interface
        self.chat_frame = tk.Frame(master)
        self.chat_frame.pack(pady=10, fill=tk.BOTH, expand=True)

        self.chat_display = scrolledtext.ScrolledText(self.chat_frame, state='disabled', height=20)
        self.chat_display.pack(fill=tk.BOTH, expand=True)

        self.input_frame = tk.Frame(self.chat_frame)
        self.input_frame.pack(fill=tk.X, pady=5)

        self.user_input = tk.Entry(self.input_frame, width=50)
        self.user_input.pack(side=tk.LEFT, expand=True, fill=tk.X)
        self.user_input.bind('<Return>', self.send_message)

        self.send_button = tk.Button(self.input_frame, text="Send", command=self.send_message)
        self.send_button.pack(side=tk.RIGHT)

        self.model = None
        self.lock = threading.Lock()

    def load_model(self):
        def load():
            self.status_label.config(text="Loading model...")
            try:
                self.model = GPT4All("Phi-3-mini-4k-instruct.Q4_0.gguf")
                self.status_label.config(text="Model loaded")
                self.load_button.config(state=tk.DISABLED)
            except Exception as e:
                self.status_label.config(text=f"Error loading model: {str(e)}")

        threading.Thread(target=load).start()

    def send_message(self, event=None):
        user_message = self.user_input.get().strip()
        if user_message and self.model:
            self.display_message("You: " + user_message)
            self.user_input.delete(0, tk.END)
            self.send_button.config(state=tk.DISABLED)

            def generate_response():
                try:
                    with self.model.chat_session():
                        response = self.model.generate(user_message, max_tokens=1024)
                    self.display_message("AI: " + response)
                except Exception as e:
                    self.display_message(f"Error: {str(e)}")
                finally:
                    self.send_button.config(state=tk.NORMAL)

            threading.Thread(target=generate_response).start()
        elif not self.model:
            self.display_message("System: Please load the model first.")

    def display_message(self, message):
        with self.lock:
            self.chat_display.config(state='normal')
            self.chat_display.insert(tk.END, message + "\n\n")
            self.chat_display.see(tk.END)
            self.chat_display.config(state='disabled')

root = tk.Tk()
app = LLMApp(root)
root.mainloop()</li>
        <li>Add a button to copy the chat text to the clipboard; Add a button to clear the chat text; Add a copy/paste context menu for the question text; Store the last question entered and last answer given in member variables; Add a menu with 'File | Last Question' and 'File | Last Answer' options which show the last question entered and last answer generated using messagebox; Add a multi-line comment summarising what the file does and the date (including day) and time of creation</li>
        <li>code mychatapp2.py</li>
    </ul>
        </section>

        <section>
            <h2>Perplexity AI Generated File (Click Filename To View)</h2>
            <ul class="file-list">
                <li onclick="toggleFile('mychatapp2.py', 'main-content2')" aria-label="Toggle mychatapp2.py">mychatapp2.py</li>
            </ul>
            <div id="main-content2" class="content"></div>
        </section>

        <section>
            <h2>Using</h2>
  <div id="command-line2" class="command-line">
    <div class="line">pip install gpt4all &gt; gptinlog.txt</div>
    <div class="line">pip install pyperclip &gt; pypinlog.txt</div>
    <div class="line">python3 mychatapp2.py</div>
    <div class="line">What is a dog?</div>
    <div class="line">What small white animal is often used in the same conversation as cats and dogs?</div>
    <div class="line">Show how to swap 2 integers using a 'C' function which takes pointer parameters</div>
    <div class="line">Give a short speech about how to button up a shirt in the style of Boris Johnson</div>
    <div class="line">pip uninstall pyperclip</div>
 <div class="line">pip uninstall gpt4all</div>
</div>
        </section>

       
        
        <section>
            <h2>Screenshot</h2>
            <div class="image-container">
                <div class="image-wrapper">
                    <img src="image2.png" alt="Screenshot 2 of GPT4All Based Python Chat Application">
                </div>
            </div>
        </section>
        
        <section>
            <h2>Chat Log</h2>
                
        <pre>
You: What is a dog?

AI: A dog, scientifically known as Canis lupus familiaris, is a domesticated mammal and one of the most common pets worldwide. Dogs are descended from wolves and have been bred by humans for thousands ofcorresponding to various tasks such as hunting, herding livestock, guarding property, assisting in search-and-rescue operations, aiding people with disabilities (as service dogs), or simply providing companionship.

Dogs are characterized by their loyalty and social nature; they form strong bonds not only with humans but also among themselves. They communicate through body language, vocalizations like growls and whines, as well as scent marking. Different breeds of dogs have been developed over centuries to perform specific roles or adaptations that suit different environments and human needs.

Dogs are omnivorous mammals with a keen sense of smell and hearing which makes them excellent working animals in various fields, including law enforcement (as police dogs), search-and-rescue operations, detection work for drugs or explosives, as well as companionship roles like therapy or emotional support.

They are typically characterized by their playfulness, affectionate nature and loyalty towards humans who care for them properly. However, it's important to note that individual dogs may vary in temperament based on breed traits, upbringing, training, socialization experiences, as well as the environment they live in.

Dogs require proper nutrition, exercise, grooming and veterinary care for their overall health and happiness. They are known to form strong bonds with humans but also have a natural instinct to protect themselves or those around them if threatened. Responsible pet ownership is crucial when it comes to caring for dogs as pets; this includes providing adequate food, water, shelter, medical care, and socialization opportunities.

In summary, a dog can be defined as a domesticated animal that has been bred by humans over thousands of years primarily for companionship but also serves various roles in society due to their unique abilities and characteristics. They are known for being loyal, affectionate pets with diverse breeds adapted for different tasks or environments. Proper care is essential for the well-being of dogs as they live alongside us.

You: What small white animal is often used in the same conversation as cats and dogs?

AI: A common small, white animal that frequently comes up in conversations alongside cats and dogs is a rabbit. Rabbits are popular pets for many people due to their gentle nature and manageable size compared to larger animals like horses or livestock. They're also often discussed when talking about domesticated versus wild animals since they can be kept as housepets, much like cats (domestic feline) and dogs (canine).

You: Show how to swap 2 integers using a 'C' function which takes pointer parameters

AI: To swap two integer values in C, you can use pointers. Here is an example of a `swap` function that uses pointers as arguments:

```c
#include &lt;stdio.h&gt;

void swap(int *a, int *b) {
    int temp = 0; // Temporary variable to hold the value of 'a' during swapping
    
    /* Swapping values */
    temp = *a; // Store the content of a in temporary variable
    *a = *b;   // Assign the content of b into a
    *b = temp; // Now assign the stored value from temporary to b
}

int main() {
    int x = 5, y = 10;
    
    printf("Before swapping: x = %d and y = %d\n", x, y);
    
    swap(&amp;x, &amp;y); // Pass the addresses of variables to be swapped
    
    printf("After swapping: x = %d and y = %d\n", x, y);
    
    return 0;
}
```
In this code snippet, `swap` is a function that takes two integer pointers as arguments. It uses these pointer parameters to swap the values of integers they point to without using any additional variables for temporary storage (although in practice you would need one). The main demonstrates how to call and use this swapping functionality with actual variable addresses passed by reference (`&amp;x` &amp; `&amp;y`).

You: Give a short speech about how to button up a shirt in the style of Boris Johnson

AI: Ladies and gentlemen, good evening. Today I'd like to address an art form that is often overlooked but essential for presenting oneself with dignity - the act of buttoning one's shirt. As we all know, our appearance speaks volumes before a word has been uttered; it sets the stage upon which conversations are built and relationships formed or broken.

Now imagine you have just donned your favorite crisp white shirt – an emblematic symbol of cleanlinity and professionalism in today's world - but alas, there lies before us a challenge: to button up this garment with finesse worthy of the Queen herself! Fear not; I shall guide thee through these steps as if we were strolling down Downing Street.

Firstly, let me remind you that in our modern era where time is precious and efficiency paramount - less can be more when it comes to buttoning a shirt. Boris Johnson himself would likely advocate for the 'one-handed tie' method; however, if one wishes to embrace tradition whilst maintaining elegance – behold!

Begin by standing before your mirror with confidence and poise - after all, first impressions are crucial in any endeavor. Lay out your shirt flat on a surface so that each button is visible: this will aid you greatly during the process. Now take hold of one end of the fabric at the bottom-most point where buttons reside; let's call it our 'button sea.'

Without delay, gently insert the tip of your index finger into the first available buttonhole - and I say "without delay" because patience is a virtue that even Boris Johnson can appreciate. Gingerly fasten this inaugural button with its corresponding counterpart on the shirt's opposite side; think of it as establishing diplomatic relations between two nations, each representing one half of your garment.

Continue in succession - much like our esteemed Prime Minister navigating through complex negotiations or addressing pressing matters within Parliament: methodically and deliberately working from bottom to top until the final button has been secured on its mate's side; thus completing this task with elegance befitting a statesman.

In conclusion, my friends - whether you choose Boris Johnson's 'one-handed tie' or opt for traditional two-button shirtsmanship: remember that mastering the art of buttoning your attire is not merely about vanity; it reflects upon our character and respect towards ourselves. So go forth, my fellow Britons - dress well, present yourself with pride, and let us face each day as if we were meeting Her Majesty herself!

Thank you for lending me a moment of your time this evening to discuss such an important aspect of daily life; may it inspire confidence in all who hear these words. Good night, everyone - I bid thee adieu with the same warmth that our beloved Boris would offer when shaking hands after negotiating yet another successful deal!


	</pre>
        </section>
              
    </main>

    <script>
       function toggleFile(filename, contentId) {
    const contentElement = document.getElementById(contentId);

    if (contentElement.style.display === 'block') {
        contentElement.style.display = 'none';
    } else {
        fetch(filename)
            .then(response => {
                if (!response.ok) {
                    throw new Error('Network response was not ok');
                }
                return response.text();
            })
            .then(content => {
                contentElement.innerHTML = `<pre><code class="python">${escapeHtml(content)}</code></pre>`;
                hljs.highlightElement(contentElement.querySelector('code'));
                contentElement.style.display = 'block';
            })
            .catch(error => {
                console.error('Error:', error);
                contentElement.textContent = `Error loading file: ${error.message}. Please try again later.`;
                contentElement.style.display = 'block';
            });
    }
}

function escapeHtml(text) {
    const map = {
        '&': '&amp;',
        '<': '&lt;',
        '>': '&gt;',
        '"': '&quot;',
        "'": '&#39;',
        '`': '&#96;'
    };
    return text.replace(/[&<>"'`]/g, function(m) { return map[m]; });
}
 

document.addEventListener('DOMContentLoaded', () => {
    const commandLine = document.getElementById('command-line');

    commandLine.addEventListener('click', (event) => {
        const clickedElement = event.target;

        if (clickedElement.classList.contains('line')) {
            // Remove selection from previously selected line
            const previouslySelected = commandLine.querySelector('.line.selected');
            if (previouslySelected) {
                previouslySelected.classList.remove('selected');
            }

            // Select the clicked line
            clickedElement.classList.add('selected');

            // Create a range for the entire content of the clicked line
            const range = document.createRange();
            range.selectNodeContents(clickedElement);

            // Clear any existing selections
            const selection = window.getSelection();
            selection.removeAllRanges();

            // Apply the new selection
            selection.addRange(range);
        }
    });

	// Allow the context menu to show on the selected line
    commandLine.addEventListener('contextmenu', (event) => {
        const clickedElement = event.target;

        if (clickedElement.classList.contains('line')) {
            // Allow the default context menu to appear
            // No need to prevent default here
        } else {
            // Prevent the context menu if it's not a line
            event.preventDefault();
        }
    });
	
    const commandLine2 = document.getElementById('command-line2');

    commandLine2.addEventListener('click', (event) => {
        const clickedElement = event.target;

        if (clickedElement.classList.contains('line')) {
            // Remove selection from previously selected line
            const previouslySelected = commandLine.querySelector('.line.selected');
            if (previouslySelected) {
                previouslySelected.classList.remove('selected');
            }

            // Select the clicked line
            clickedElement.classList.add('selected');

            // Create a range for the entire content of the clicked line
            const range = document.createRange();
            range.selectNodeContents(clickedElement);

            // Clear any existing selections
            const selection = window.getSelection();
            selection.removeAllRanges();

            // Apply the new selection
            selection.addRange(range);
        }
    });
    
    // Allow the context menu to show on the selected line
    commandLine2.addEventListener('contextmenu', (event) => {
        const clickedElement = event.target;

        if (clickedElement.classList.contains('line')) {
            // Allow the default context menu to appear
            // No need to prevent default here
        } else {
            // Prevent the context menu if it's not a line
            event.preventDefault();
        }
    });
});
        
    </script>
    <script>hljs.highlightAll();</script>
</body>
</html>
